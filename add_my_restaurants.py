"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –í–ê–®–ò–• —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –∏ –º–µ–Ω—é
–ò–ù–°–¢–†–£–ö–¶–ò–Ø: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –Ω–∏–∂–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ: python3 add_my_restaurants.py
"""
from database import Database

db = Database()

# ========== –ù–ê–°–¢–†–û–ô–¢–ï –°–í–û–ò –†–ï–°–¢–û–†–ê–ù–´ –ó–î–ï–°–¨ ==========

# –§–æ—Ä–º–∞—Ç:
# {
#     "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞",
#     "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
#     "address": "–ê–¥—Ä–µ—Å",
#     "phone": "–¢–µ–ª–µ—Ñ–æ–Ω"
# }

my_restaurants = [
    {
        "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω 1",
        "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞",
        "address": "—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1",
        "phone": "+7 (999) 111-22-33"
    },
    {
        "name": "–†–µ—Å—Ç–æ—Ä–∞–Ω 2", 
        "description": "–û–ø–∏—Å–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞",
        "address": "—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 2",
        "phone": "+7 (999) 222-33-44"
    },
    # –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
]

# ========== –ù–ê–°–¢–†–û–ô–¢–ï –ú–ï–ù–Æ –î–õ–Ø –ö–ê–ñ–î–û–ì–û –†–ï–°–¢–û–†–ê–ù–ê ==========

# –§–æ—Ä–º–∞—Ç:
# "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞": [
#     {"name": "–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞", "price": —Ü–µ–Ω–∞, "category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è", "desc": "–û–ø–∏—Å–∞–Ω–∏–µ"},
# ]

my_menus = {
    "–†–µ—Å—Ç–æ—Ä–∞–Ω 1": [
        {"name": "–°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å", "price": 350, "category": "–°–∞–ª–∞—Ç—ã", "desc": "–° –∫—É—Ä–∏—Ü–µ–π –∏ –ø–∞—Ä–º–µ–∑–∞–Ω–æ–º"},
        {"name": "–ë–æ—Ä—â", "price": 250, "category": "–°—É–ø—ã", "desc": "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –±–æ—Ä—â"},
        {"name": "–°—Ç–µ–π–∫", "price": 850, "category": "–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞", "desc": "–ì–æ–≤—è–∂–∏–π —Å—Ç–µ–π–∫ medium"},
        {"name": "–¢–∏—Ä–∞–º–∏—Å—É", "price": 280, "category": "–î–µ—Å–µ—Ä—Ç—ã", "desc": "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–µ—Å–µ—Ä—Ç"},
    ],
    
    "–†–µ—Å—Ç–æ—Ä–∞–Ω 2": [
        {"name": "–ì—Ä–µ—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç", "price": 320, "category": "–°–∞–ª–∞—Ç—ã", "desc": "–° —Ñ–µ—Ç–æ–π –∏ –º–∞—Å–ª–∏–Ω–∞–º–∏"},
        {"name": "–¢–æ–º –Ø–º", "price": 380, "category": "–°—É–ø—ã", "desc": "–û—Å—Ç—Ä—ã–π —Ç–∞–π—Å–∫–∏–π —Å—É–ø"},
        {"name": "–ü–∞—Å—Ç–∞ –ö–∞—Ä–±–æ–Ω–∞—Ä–∞", "price": 450, "category": "–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞", "desc": "–° –±–µ–∫–æ–Ω–æ–º"},
        {"name": "–ß–∏–∑–∫–µ–π–∫", "price": 290, "category": "–î–µ—Å–µ—Ä—Ç—ã", "desc": "–ù—å—é-–ô–æ—Ä–∫ —á–∏–∑–∫–µ–π–∫"},
    ],
}

# ========== –ù–ï –†–ï–î–ê–ö–¢–ò–†–£–ô–¢–ï –ö–û–î –ù–ò–ñ–ï ==========

def main():
    print("üçΩÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –∏ –º–µ–Ω—é...")
    print("=" * 60)
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã
    restaurant_map = {}  # –Ω–∞–∑–≤–∞–Ω–∏–µ -> ID
    
    for rest in my_restaurants:
        rest_id = db.add_restaurant(
            name=rest["name"],
            description=rest.get("description"),
            address=rest.get("address"),
            phone=rest.get("phone")
        )
        restaurant_map[rest["name"]] = rest_id
        print(f"‚úÖ –†–µ—Å—Ç–æ—Ä–∞–Ω –¥–æ–±–∞–≤–ª–µ–Ω: {rest['name']} (ID: {rest_id})")
    
    print()
    
    # –î–æ–±–∞–≤–ª—è–µ–º –º–µ–Ω—é
    for rest_name, menu_items in my_menus.items():
        if rest_name not in restaurant_map:
            print(f"‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –†–µ—Å—Ç–æ—Ä–∞–Ω '{rest_name}' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤!")
            continue
        
        rest_id = restaurant_map[rest_name]
        print(f"üìã –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –¥–ª—è '{rest_name}':")
        
        for item in menu_items:
            db.add_menu_item(
                restaurant_id=rest_id,
                name=item["name"],
                price=item["price"],
                description=item.get("desc"),
                category=item.get("category")
            )
            print(f"   ‚úÖ {item['name']} - {item['price']} ‚ÇΩ")
        
        print()
    
    print("=" * 60)
    print("üéâ –ì–æ—Ç–æ–≤–æ! –í—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±–∞–∑—É!")
    print()
    print("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Telegram:")
    print("  /list_restaurants - —Å–ø–∏—Å–æ–∫ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤")
    print("  /menu - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ–Ω—é")
    print("  /lunch - –Ω–∞—á–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ")

if __name__ == "__main__":
    main()

